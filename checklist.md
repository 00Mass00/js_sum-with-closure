1. [CODE STYLE] - Don't nest ternary operators. Write one, you can do this, we believe in you !
2. [CODE STYLE] - You don't need to name functions if you return them right away.
3. [CODE STYLE] - You should use one variable for counting function calls
4. [CODE STYLE] - DRY. When you do similar logic, try to combine conditions
